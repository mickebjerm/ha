cover: 
  - platform: template
    covers:
      garagedoor:
        friendly_name: Garage Door
        value_template: "{% if is_state('sensor.garageporten', 'on') %} true {% else %} false {% endif %}"
        icon_template: "{% if is_state('sensor.garageporten', 'on') %} mdi:garage-open {% else %} mdi:garage {% endif %}"
        open_cover:
          - condition: state
            entity_id: binary_sensor.garageporten
            state: 'off'
          - service: switch.turn_on
            entity_id: switch.qubino_goap_zmnhnd1_flush_1d_relay_switch
        close_cover:
          - condition: state
            entity_id: binary_sensor.garageporten
            state: 'on'
          - service: switch.turn_on
            entity_id: switch.qubino_goap_zmnhnd1_flush_1d_relay_switch


switch:
  - platform: template
    switches:
      garage:
        value_template: "{{ is_state('sensor.garageporten', 'on') }}"
        turn_on:
          service: switch.turn_on
          data:
            entity_id: switch.qubino_goap_zmnhnd1_flush_1d_relay_switch
        turn_off:
          service: switch.turn_on
          data:
            entity_id: switch.qubino_goap_zmnhnd1_flush_1d_relay_switch
        icon_template: >-
          {% if is_state('sensor.garageporten', 'on') %}
            mdi:garage-open
          {% else %}
            mdi:garage
          {% endif %}

alert:
  garage_door:
    name: Garage is open
    done_message: Garage is closed
    entity_id: binary_sensor.garageporten
    state: 'on'
    repeat: 30
    can_acknowledge: true
    skip_first: true
    notifiers:
      - pushbullet